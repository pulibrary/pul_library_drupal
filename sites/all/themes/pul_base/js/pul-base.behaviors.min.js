(function($) {
    Drupal.theme.prototype.pulBaseExampleButton = function(path, title) {
        return $('<a href="' + path + '" title="' + title + '">' + title + "</a>");
    };
    Drupal.behaviors.pulMainMenuBehavior = {
        attach: function(context) {
            $(".centered-navigation-menu", context).once("pul", function() {
                var menu = $(".centered-navigation-menu");
                var menuToggle = $(".centered-navigation-menu-button");
                $(menuToggle).click(function(e) {
                    e.preventDefault();
                    menu.slideToggle(function() {
                        if (menu.is(":hidden")) {
                            menu.removeAttr("style");
                        }
                    });
                });
            });
        }
    };
    Drupal.behaviors.pulResourceButtonBehavior = {
        attach: function(context, settings) {
            $(".field--name-field-db-access-url", context).once("pul", function() {
                $(".field--name-field-db-access-url a, .field--name-field-db-access-url a").each(function() {
                    var viewOnlineLink = $(this).attr("href");
                    var undecodeViewOnline = viewOnlineLink.replace(/\&amp%3B|&amp;/g, "&");
                    var resolvePrefix = settings.pul_base_theme.resolvePrefix;
                    $(this).attr("href", resolvePrefix + undecodeViewOnline);
                    $(this).attr("target", "_blank");
                });
            });
        }
    };
})(jQuery);
